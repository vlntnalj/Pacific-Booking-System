<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reserva - Pacific Hotel Viña del Mar</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
  <div class="nav-container">
    <h1 class="logo">Pacific Hotel</h1>
    <nav class="nav-menu">
      <a href="index.html" class="nav-link">Inicio</a>
      <a href="habitaciones.html" class="nav-link">Habitaciones</a>
      <a href="servicios.html" class="nav-link">Servicios</a>
      <a href="restaurante.html" class="nav-link">Restaurante</a>
      <a href="contacto.html" class="nav-link">Contacto</a>
      <a href="iniciarsesion.html" class="nav-link">Iniciar Sesión</a>
      <a href="reserva.html" class="nav-link active">Reserva</a>
      <a href="pago.html" class="nav-link">Pago</a>
    </nav>
  </div>
</header>

<section class="hero">
  <img src="https://images.unsplash.com/photo-1558959351-87f586bca65c?auto=format&fit=crop&w=1600&q=80" alt="Reserva Pacific Hotel" class="hero-image">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h2 class="hero-title">Reserva tu Habitación</h2>
    <p class="hero-subtitle">Selecciona tus fechas, habitación y asegura tu estadía en Viña del Mar.</p>
  </div>
</section>

<section>
  <div class="container">
    <div style="max-width:600px;margin:3rem auto;background:white;padding:2.5rem;border-radius:var(--radius-lg);box-shadow:0 15px 40px rgba(0,0,0,0.15);">
      <form id="reservaForm">
        <h3 class="section-title text-center">Formulario de Reserva</h3>

        <div class="form-group">
          <label for="nombre">Nombre completo</label>
          <input type="text" id="nombre" required>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" required>
        </div>

        <div class="form-group">
          <label for="telefono">Teléfono</label>
          <input type="tel" id="telefono" required>
        </div>

        <div class="form-group">
          <label for="habitacion">Habitación</label>
          <select id="habitacion" required>
            <option value="">Selecciona...</option>
            <option value="Suite Deluxe">Suite Deluxe</option>
            <option value="Habitación Matrimonial">Habitación Matrimonial</option>
            <option value="Habitación Doble">Habitación Doble</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="checkin">Check-in</label>
            <input type="date" id="checkin" required>
          </div>
          <div class="form-group">
            <label for="checkout">Check-out</label>
            <input type="date" id="checkout" required>
          </div>
        </div>

        <div class="form-group">
          <label for="total">Total Reserva (CLP)</label>
          <input type="number" id="total" required>
        </div>

        <button type="submit" class="btn btn-primary btn-large" style="width:100%;">Confirmar Reserva</button>
      </form>
    </div>
  </div>
</section>

<!-- Modal Confirmación -->
<div class="modal" id="modalConfirmacion">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Confirmación de Reserva</h2>
      <button class="modal-close" id="cerrarModal">&times;</button>
    </div>
    <div class="modal-body" id="detalleReserva">
      <!-- Detalles de reserva cargados con JS -->
    </div>
    <div class="text-center" style="padding:1rem;">
      <button class="btn btn-primary btn-large" id="irPago">Proceder al Pago</button>
    </div>
  </div>
</div>

<script>
  const reservaForm = document.getElementById('reservaForm');
  const modal = document.getElementById('modalConfirmacion');
  const detalleReserva = document.getElementById('detalleReserva');
  const cerrarModal = document.getElementById('cerrarModal');
  const irPago = document.getElementById('irPago');

  reservaForm.addEventListener('submit', function(e){
    e.preventDefault();

    const reserva = {
      nombre: document.getElementById('nombre').value,
      email: document.getElementById('email').value,
      telefono: document.getElementById('telefono').value,
      habitacion: document.getElementById('habitacion').value,
      checkin: document.getElementById('checkin').value,
      checkout: document.getElementById('checkout').value,
      total: Number(document.getElementById('total').value),
      anticipo: Number(document.getElementById('total').value) * 0.3
    };

    sessionStorage.setItem('reserva', JSON.stringify(reserva));

    // Mostrar modal con resumen animado
    detalleReserva.innerHTML = `
      <p><strong>Nombre:</strong> ${reserva.nombre}</p>
      <p><strong>Email:</strong> ${reserva.email}</p>
      <p><strong>Teléfono:</strong> ${reserva.telefono}</p>
      <p><strong>Habitación:</strong> ${reserva.habitacion}</p>
      <p><strong>Check-in:</strong> ${reserva.checkin}</p>
      <p><strong>Check-out:</strong> ${reserva.checkout}</p>
      <p><strong>Total Reserva:</strong> ${reserva.total} CLP</p>
      <p><strong>Anticipo (30%):</strong> ${reserva.anticipo} CLP</p>
    `;
    modal.classList.add('show');
  });

  cerrarModal.addEventListener('click', function() {
    modal.classList.remove('show');
  });

  irPago.addEventListener('click', function() {
    window.location.href = "pago.html";
  });
</script>

</body>
</html>
